# AutoSwipe - Android Wireless ADB 自动化工具

一个極簡、無依賴的 Bash 腳本，專為 Linux/WSL2 環境設計，透過 Wireless ADB 實現手機螢幕的定時自動滑動。

## 🌟 核心特色

- **智慧連線管理**：自動記錄已配對的手機型號與上次使用的 IP，下次連線更快速。
- **動態 IP 支援**：專為 Wi-Fi 環境設計，即使手機 IP 變動也能輕鬆連線。
- **本地化安全設定**：ADB 金鑰與設定存放在專案內的 `.android/` 目錄，不污染系統環境，且已透過 `.gitignore` 保護。
- **彈性執行模式**：支援「指定總時長」或「無限循環」模式。
- **使用者友善**：
  - 互動式引導配對與連線。
  - 開始執行前會暫停，留給使用者切換到目標 App 的時間。
  - 即時顯示滑動次數、已用時間或剩餘時間。
- **環境清理**：結束時自動斷開 ADB 連線，並可設定是否自動關閉 ADB Server。

## 🛠 運作環境

- **OS**: Linux (在 Ubuntu 24 / WSL2 測試通過)
- **依賴**: `adb` (Android Debug Bridge)

## 🚀 快速開始

### 1. 安裝必要工具
在 Ubuntu/WSL2 中執行：
```bash
sudo apt update && sudo apt install adb -y
```

### 2. 手機端設定
1. 進入「開發者選項」，啟用「無線偵錯」。
2. 點擊「無線偵錯」，記下畫面上顯示的 **IP 地址與通訊埠**（連線用）。
3. 點擊「使用配對碼配對裝置」，記下 **配對碼** 與 **IP 地址及通訊埠**（配對用）。

### 3. 設定專案
複製 `.env.example` 並更名為 `.env`，修改座標與參數：
```bash
cp .env.example .env
nano .env
```

### 4. 執行腳本
```bash
./autoswipe.sh
```

## ⚙️ 設定檔說明 (.env)

| 變數名 | 說明 | 預設值 |
| :--- | :--- | :--- |
| `X1`, `Y1` | 滑動起始座標 | 500, 1500 |
| `X2`, `Y2` | 滑動結束座標 | 500, 500 |
| `INTERVAL` | 每次滑動的間隔秒數 | 5 |
| `TOTAL_DURATION` | 總執行秒數 (0 代表無限循環) | 0 |
| `KILL_ADB_ON_EXIT` | 結束時是否關閉 ADB Server (true/false) | false |

## 📂 專案結構

- `autoswipe.sh`: 主程式腳本。
- `.env`: 個人設定檔（不提交至 Git）。
- `devices.conf`: 已記錄的裝置清單（自動產生，不提交至 Git）。
- `.android/`: 存放 ADB 安全金鑰的目錄（自動產生，不提交至 Git）。
- `conductor/`: 專案開發計畫與軌道紀錄。

## ⚠️ 注意事項

- **螢幕座標**：請開啟手機「開發者選項」中的「指標位置」來精確獲取您的滑動座標。
- **配對一次性**：配對 (Pairing) 成功後，只要不手動在手機取消，下次只需輸入連線 Port 即可。
- **WSL2 用戶**：確保您的手機與電腦網路互通（通常是連接在同一個 Wi-Fi 下）。若連線失敗，請檢查 Windows 防火牆設定。

---
*不可言，本人自有妙用 ~*
